<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <!-- 화면 해상도에 따라 글자 크기 대응(모바일 대응) -->
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"
    />
    <!-- jquery CDN -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- fullcalendar CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/main.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="static/css/script.css" />
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/main.min.js"></script>
    <!-- fullcalendar 언어 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.8.0/locales-all.min.js"></script>
    <style src="static/css/style.css"></style>
    <script>
      const discordWebhookUrl =
        "https://discord.com/api/webhooks/1247051686980223079/8TpNW8vtXSn1VLEQAJvRjFxnQ0WYc5H8i-Dm28ozkNP1nF2JPzR0-KqzrrXxWqPXp494"; // 디스코드 웹훅 URL

      function sendUrlUpdate(newUrl) {
        fetch(discordWebhookUrl, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            content: `URL이 변경되었습니다: ${newUrl}`,
          }),
        })
          .then((response) => response.json())
          .then((data) => console.log("Success:", data))
          .catch((error) => console.error("Error:", error));
      }

      // URL 변경 감지
      window.addEventListener("load", () => {
        let currentUrl = window.location.href;

        setInterval(() => {
          if (window.location.href !== currentUrl) {
            currentUrl = window.location.href;
            sendUrlUpdate(currentUrl);
          }
        }, 1000);
      });
    </script>
  </head>
  <body style="padding: 30px">
    <!-- calendar 태그 -->
    <div id="calendar-container">
      <div id="calendar"></div>
    </div>
    <script src="static/js/script.js"></script>
  </body>
</html>
